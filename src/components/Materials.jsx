import React, { useState } from "react";
import { logEvent } from "../metrics";

const materials = [
  {
    title: "–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –≤–µ—Ç–∫–ª–∏–Ω–∏–∫—É?",
    text: "–í—ã–±–∏—Ä–∞–π—Ç–µ –∫–ª–∏–Ω–∏–∫—É —Å —Ö–æ—Ä–æ—à–∏–º–∏ –æ—Ç–∑—ã–≤–∞–º–∏, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –∏ –æ–ø—ã—Ç–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏. –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —á–∏—Å—Ç–æ—Ç—É –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏. –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤—Ä–∞—á—É!"
  },
  {
    title: "–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–∏–≤–∏–≤–æ–∫ –¥–ª—è —Å–æ–±–∞–∫ –∏ –∫–æ—à–µ–∫",
    text: "1. –ü–µ—Ä–≤–∞—è –ø—Ä–∏–≤–∏–≤–∫–∞ ‚Äî 2 –º–µ—Å—è—Ü–∞\n2. –í—Ç–æ—Ä–∞—è ‚Äî 3 –º–µ—Å—è—Ü–∞\n3. –ï–∂–µ–≥–æ–¥–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—Ä–∏–≤–∏–≤–∫–∏ ‚Äî —Ä–∞–∑ –≤ –≥–æ–¥\n(–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —É—Ç–æ—á–Ω—è–π—Ç–µ —É –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∞)"
  },
  {
    title: "–ü–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å –ø—Ä–∏ –æ—Ç—Ä–∞–≤–ª–µ–Ω–∏–∏",
    text: "–ï—Å–ª–∏ –≤–∞—à –ø–∏—Ç–æ–º–µ—Ü –æ—Ç—Ä–∞–≤–∏–ª—Å—è: 1) –ù–µ –¥–∞–≤–∞–π—Ç–µ –µ–¥—É –∏ –≤–æ–¥—É. 2) –°—Ä–æ—á–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –∫–ª–∏–Ω–∏–∫—É. 3) –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –ª–µ—á–∏—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. –ó–∞–ø–æ–º–Ω–∏—Ç–µ —Å–∏–º–ø—Ç–æ–º—ã (—Ä–≤–æ—Ç–∞, —Å–ª–∞–±–æ—Å—Ç—å, —Å—É–¥–æ—Ä–æ–≥–∏)."
  },
  {
    title: "–ß—Ç–æ –ø–æ–ª–æ–∂–∏—Ç—å –≤ –∞–ø—Ç–µ—á–∫—É –¥–ª—è –ø–∏—Ç–æ–º—Ü–∞",
    text: "–°—Ç–µ—Ä–∏–ª—å–Ω—ã–µ —Å–∞–ª—Ñ–µ—Ç–∫–∏, –±–∏–Ω—Ç, –ø–µ—Ä–µ–∫–∏—Å—å –≤–æ–¥–æ—Ä–æ–¥–∞, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–≥–æ–ª—å, —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ—Ç –∫–ª–µ—â–µ–π, —Ç–µ–ª–µ—Ñ–æ–Ω –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ–π –≤–µ—Ç–∫–ª–∏–Ω–∏–∫–∏."
  },
  {
    title: "–ü—Ä–∞–≤–∏–ª–∞ –≤—ã–≥—É–ª–∞ –≤ –≥–æ—Ä–æ–¥–µ",
    text: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–≤–æ–¥–æ–∫ –∏ –Ω–∞–º–æ—Ä–¥–Ω–∏–∫, —É–±–∏—Ä–∞–π—Ç–µ –∑–∞ –ø–∏—Ç–æ–º—Ü–µ–º, —É–≤–∞–∂–∞–π—Ç–µ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π –∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö. –ü–æ–º–Ω–∏—Ç–µ –æ –ø—Ä–∞–≤–∏–ª–∞—Ö –≤—ã–≥—É–ª–∞ –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ."
  }
];

const Materials = ({ onBack }) => {
  const [opened, setOpened] = useState(null);

  const handleOpenMaterial = (i) => {
    logEvent("open_material", { index: i, title: materials[i].title });
    setOpened(i);
  };

  return (
    <div style={{ padding: 24, maxWidth: 440, margin: "0 auto" }}>
      <h2 style={{ color: "#4c38f2" }}>üìö –ü–æ–ª–µ–∑–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h2>
      {opened === null ? (
        <ul style={{ padding: 0, listStyle: "none" }}>
          {materials.map((mat, i) => (
            <li
              key={i}
              onClick={() => handleOpenMaterial(i)}
              style={{
                background: "#fff",
                borderRadius: 12,
                boxShadow: "0 1px 6px #e7e5fb",
                margin: "16px 0",
                padding: "18px 18px",
                cursor: "pointer",
                fontWeight: 600,
                color: "#4c38f2",
                transition: "background 0.2s"
              }}
            >
              {mat.title}
            </li>
          ))}
        </ul>
      ) : (
        <div style={{
          background: "#fff",
          borderRadius: 12,
          boxShadow: "0 1px 6px #e7e5fb",
          margin: "16px 0",
          padding: "24px 18px",
        }}>
          <h3 style={{ color: "#4c38f2", fontWeight: 700, marginBottom: 10 }}>{materials[opened].title}</h3>
          <div style={{ whiteSpace: "pre-line", color: "#222" }}>{materials[opened].text}</div>
          <button onClick={() => setOpened(null)} style={{ marginTop: 24 }}>–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</button>
        </div>
      )}
      <button onClick={onBack} style={{ marginTop: 20 }}>–ù–∞–∑–∞–¥</button>
    </div>
  );
};

export default Materials;
